{"NodeType":"File","Doc":null,"Package":null,"Name":{"NodeType":"Ident","Name":"main"},"Decls":[{"NodeType":"GenDecl","Tok":"import","Specs":[{"NodeType":"ImportSpec","Name":null,"Path":{"NodeType":"BasicLit","Kind":"STRING","Value":"\"flag\""}},{"NodeType":"ImportSpec","Name":null,"Path":{"NodeType":"BasicLit","Kind":"STRING","Value":"\"fmt\""}},{"NodeType":"ImportSpec","Name":null,"Path":{"NodeType":"BasicLit","Kind":"STRING","Value":"\"os\""}},{"NodeType":"ImportSpec","Name":null,"Path":{"NodeType":"BasicLit","Kind":"STRING","Value":"\"strings\""}},{"NodeType":"ImportSpec","Name":null,"Path":{"NodeType":"BasicLit","Kind":"STRING","Value":"\"github.com/asty-org/asty/asty\""}}]},{"NodeType":"GenDecl","Tok":"const","Specs":[{"NodeType":"ValueSpec","Names":[{"NodeType":"Ident","Name":"UsageString"}],"Type":null,"Values":[{"NodeType":"BasicLit","Kind":"STRING","Value":"`Usage: asty \u003ccommand\u003e [flags]\ncommands:\n  go2json - convert go source to json\n  json2go - convert json to go source\n  help    - print this message\nflags:\n`"}]}]},{"NodeType":"FuncDecl","Recv":null,"Name":{"NodeType":"Ident","Name":"printError"},"Type":{"NodeType":"FuncType","TypeParams":null,"Params":{"NodeType":"FieldList","List":[{"NodeType":"Field","Names":[{"NodeType":"Ident","Name":"err"}],"Type":{"NodeType":"Ident","Name":"error"}}]},"Results":null},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"_"},{"NodeType":"Ident","Name":"_"}],"Tok":"=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fmt"},"Sel":{"NodeType":"Ident","Name":"Fprintf"}},"Args":[{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"os"},"Sel":{"NodeType":"Ident","Name":"Stderr"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"Error: %s\\n\""},{"NodeType":"Ident","Name":"err"}]}]},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"os"},"Sel":{"NodeType":"Ident","Name":"Exit"}},"Args":[{"NodeType":"BasicLit","Kind":"INT","Value":"1"}]}}]}},{"NodeType":"FuncDecl","Recv":null,"Name":{"NodeType":"Ident","Name":"main"},"Type":{"NodeType":"FuncType","TypeParams":null,"Params":{"NodeType":"FieldList","List":null},"Results":null},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"args"}],"Tok":":=","Rhs":[{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"os"},"Sel":{"NodeType":"Ident","Name":"Args"}}]},{"NodeType":"DeclStmt","Decl":{"NodeType":"GenDecl","Tok":"var","Specs":[{"NodeType":"ValueSpec","Names":[{"NodeType":"Ident","Name":"input"},{"NodeType":"Ident","Name":"output"}],"Type":{"NodeType":"Ident","Name":"string"},"Values":null}]}},{"NodeType":"DeclStmt","Decl":{"NodeType":"GenDecl","Tok":"var","Specs":[{"NodeType":"ValueSpec","Names":[{"NodeType":"Ident","Name":"indent"}],"Type":{"NodeType":"Ident","Name":"int"},"Values":null}]}},{"NodeType":"DeclStmt","Decl":{"NodeType":"GenDecl","Tok":"var","Specs":[{"NodeType":"ValueSpec","Names":[{"NodeType":"Ident","Name":"comments"},{"NodeType":"Ident","Name":"positions"},{"NodeType":"Ident","Name":"references"},{"NodeType":"Ident","Name":"imports"}],"Type":{"NodeType":"Ident","Name":"bool"},"Values":null}]}},{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"fs"}],"Tok":":=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"flag"},"Sel":{"NodeType":"Ident","Name":"NewFlagSet"}},"Args":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\"asty\""},{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"flag"},"Sel":{"NodeType":"Ident","Name":"ExitOnError"}}]}]},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"StringVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"input"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"input\""},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"\""},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"input file name (default: stdin)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"StringVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"output"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"output\""},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"\""},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"output file name (default: stdout)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"IntVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"indent"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"indent\""},{"NodeType":"BasicLit","Kind":"INT","Value":"0"},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"indentation level (default: 0)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"BoolVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"comments"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"comments\""},{"NodeType":"Ident","Name":"false"},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"include comments (default: false)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"BoolVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"positions"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"positions\""},{"NodeType":"Ident","Name":"false"},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"include positions (default: false)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"BoolVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"references"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"references\""},{"NodeType":"Ident","Name":"false"},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"include references to reuse nodes from multiple places (default: false)\""}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"BoolVar"}},"Args":[{"NodeType":"UnaryExpr","Op":"\u0026","X":{"NodeType":"Ident","Name":"imports"}},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"imports\""},{"NodeType":"Ident","Name":"false"},{"NodeType":"BasicLit","Kind":"STRING","Value":"\"include imports list into output (default: false)\""}]}},{"NodeType":"AssignStmt","Lhs":[{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Usage"}}],"Tok":"=","Rhs":[{"NodeType":"FuncLit","Type":{"NodeType":"FuncType","TypeParams":null,"Params":{"NodeType":"FieldList","List":null},"Results":null},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fmt"},"Sel":{"NodeType":"Ident","Name":"Fprint"}},"Args":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Output"}},"Args":null},{"NodeType":"Ident","Name":"UsageString"}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"PrintDefaults"}},"Args":null}}]}}]},{"NodeType":"IfStmt","Init":null,"Cond":{"NodeType":"BinaryExpr","X":{"NodeType":"CallExpr","Fun":{"NodeType":"Ident","Name":"len"},"Args":[{"NodeType":"Ident","Name":"args"}]},"Op":"\u003c","Y":{"NodeType":"BasicLit","Kind":"INT","Value":"2"}},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Usage"}},"Args":null}},{"NodeType":"ReturnStmt","Results":null}]},"Else":null},{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"err"}],"Tok":":=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Parse"}},"Args":[{"NodeType":"SliceExpr","X":{"NodeType":"Ident","Name":"args"},"Low":{"NodeType":"BasicLit","Kind":"INT","Value":"2"},"High":null,"Max":null,"Slice3":false}]}]},{"NodeType":"IfStmt","Init":null,"Cond":{"NodeType":"BinaryExpr","X":{"NodeType":"Ident","Name":"err"},"Op":"!=","Y":{"NodeType":"Ident","Name":"nil"}},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"Ident","Name":"printError"},"Args":[{"NodeType":"Ident","Name":"err"}]}}]},"Else":null},{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"options"}],"Tok":":=","Rhs":[{"NodeType":"CompositeLit","Type":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"asty"},"Sel":{"NodeType":"Ident","Name":"Options"}},"Elts":[{"NodeType":"KeyValueExpr","Key":{"NodeType":"Ident","Name":"WithImports"},"Value":{"NodeType":"Ident","Name":"imports"}},{"NodeType":"KeyValueExpr","Key":{"NodeType":"Ident","Name":"WithComments"},"Value":{"NodeType":"Ident","Name":"comments"}},{"NodeType":"KeyValueExpr","Key":{"NodeType":"Ident","Name":"WithPositions"},"Value":{"NodeType":"Ident","Name":"positions"}},{"NodeType":"KeyValueExpr","Key":{"NodeType":"Ident","Name":"WithReferences"},"Value":{"NodeType":"Ident","Name":"references"}}],"Incomplete":false}]},{"NodeType":"SwitchStmt","Init":null,"Tag":{"NodeType":"IndexExpr","X":{"NodeType":"Ident","Name":"args"},"Index":{"NodeType":"BasicLit","Kind":"INT","Value":"1"}},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"CaseClause","List":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\"go2json\""}],"Body":[{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"indentStr"}],"Tok":":=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"strings"},"Sel":{"NodeType":"Ident","Name":"Repeat"}},"Args":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\" \""},{"NodeType":"Ident","Name":"indent"}]}]},{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"err"}],"Tok":":=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"asty"},"Sel":{"NodeType":"Ident","Name":"SourceToJSON"}},"Args":[{"NodeType":"Ident","Name":"input"},{"NodeType":"Ident","Name":"output"},{"NodeType":"Ident","Name":"indentStr"},{"NodeType":"Ident","Name":"options"}]}]},{"NodeType":"IfStmt","Init":null,"Cond":{"NodeType":"BinaryExpr","X":{"NodeType":"Ident","Name":"err"},"Op":"!=","Y":{"NodeType":"Ident","Name":"nil"}},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"Ident","Name":"printError"},"Args":[{"NodeType":"Ident","Name":"err"}]}}]},"Else":null}]},{"NodeType":"CaseClause","List":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\"json2go\""}],"Body":[{"NodeType":"AssignStmt","Lhs":[{"NodeType":"Ident","Name":"err"}],"Tok":":=","Rhs":[{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"asty"},"Sel":{"NodeType":"Ident","Name":"JSONToSource"}},"Args":[{"NodeType":"Ident","Name":"input"},{"NodeType":"Ident","Name":"output"},{"NodeType":"Ident","Name":"options"}]}]},{"NodeType":"IfStmt","Init":null,"Cond":{"NodeType":"BinaryExpr","X":{"NodeType":"Ident","Name":"err"},"Op":"!=","Y":{"NodeType":"Ident","Name":"nil"}},"Body":{"NodeType":"BlockStmt","List":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"Ident","Name":"printError"},"Args":[{"NodeType":"Ident","Name":"err"}]}}]},"Else":null}]},{"NodeType":"CaseClause","List":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\"help\""}],"Body":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Usage"}},"Args":null}},{"NodeType":"ReturnStmt","Results":null}]},{"NodeType":"CaseClause","List":null,"Body":[{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fmt"},"Sel":{"NodeType":"Ident","Name":"Printf"}},"Args":[{"NodeType":"BasicLit","Kind":"STRING","Value":"\"unknown command: %s\\n\""},{"NodeType":"IndexExpr","X":{"NodeType":"Ident","Name":"args"},"Index":{"NodeType":"BasicLit","Kind":"INT","Value":"1"}}]}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"fs"},"Sel":{"NodeType":"Ident","Name":"Usage"}},"Args":null}},{"NodeType":"ExprStmt","X":{"NodeType":"CallExpr","Fun":{"NodeType":"SelectorExpr","X":{"NodeType":"Ident","Name":"os"},"Sel":{"NodeType":"Ident","Name":"Exit"}},"Args":[{"NodeType":"BasicLit","Kind":"INT","Value":"1"}]}}]}]}}]}}],"Imports":null,"Unresolved":null,"Comments":null,"FileSet":{"Base":1888,"Files":[{"Name":"main.go","Base":1,"Size":1886,"Lines":[0,13,14,23,31,38,44,55,56,89,91,92,143,153,191,229,260,267,269,270,299,350,362,364,365,379,396,422,438,489,538,609,684,751,830,912,958,1035,1075,1130,1131,1152,1191,1212,1215,1216,1236,1249,1258,1261,1262,1289,1306,1324,1327,1328,1354,1381,1409,1438,1468,1471,1472,1490,1507,1550,1612,1630,1649,1653,1670,1721,1739,1758,1762,1776,1789,1798,1808,1855,1868,1881,1884],"Infos":null}]}}
